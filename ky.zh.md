## Ky 与 Fetch 的比较

`ky` 是一个现代、轻量级的 HTTP 客户端，它构建于原生的 `fetch` API 之上，旨在提供一个更友好、功能更丰富的替代方案，从而在保持较小体积的同时简化常见的数据请求任务。

以下是 `ky` 与标准 `fetch` API 的功能对比。

| 功能 | Ky | 原生 Fetch API |
| :--- | :--- | :--- |
| **API 设计** | **简化与直观：** 提供更清晰、简洁的 API。 | **基于 Promise 但更繁琐：** 功能强大，但通常需要更多模板代码。 |
| **错误处理** | **自动：** 默认情况下，对于非 2xx 响应会抛出 `HTTPError`。 | **手动：** 不会将 HTTP 错误状态（如 404、500）视为 Promise 拒绝，您必须检查 `response.ok`。 |
| **JSON 解析** | **自动：** 无缝解析 JSON 响应。 | **手动：** 需要显式调用 `response.json()`。 |
| **请求重试** | **内置：** 支持自动重试失败的请求，并提供可配置选项。 | **不支持：** 需要手动实现。 |
| **超时处理** | **内置：** 支持请求超时，以防止无限期挂起。 | **不支持：** 需要使用 `AbortController` 手动实现。 |
| **钩子（Hooks）** | **支持：** 允许您在不同阶段（如 `beforeRequest`、`afterResponse`）检查和修改请求与响应。 | **不支持：** 缺少内置的拦截机制。 |
| **依赖** | **零依赖：** 轻量且自包含。 | **原生：** 内置于现代浏览器，无需外部库。 |
| **浏览器支持** | **现代目标：** 可在现代浏览器、Node.js、Deno 和 Bun 中运行。 | **广泛支持：** 在所有现代浏览器中可用，但不支持 Internet Explorer。 |

### 核心要点

- **追求便利性，使用 `ky`：** 如果您希望获得更简单、更强大的数据请求体验，并需要内置的错误处理、重试和超时功能，`ky` 是一个绝佳的选择。
- **追求简洁与控制，使用 `fetch`：** 如果您的需求极简，或需要在没有外部依赖的情况下进行精细控制，那么原生的 `fetch` API 是一个可靠的选择。

`ky` 能有效减少模板代码，并提供开箱即用的强大功能，使其成为大多数现代 Web 开发项目的有力竞争者。
